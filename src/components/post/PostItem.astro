---
import { getDate } from '@/utils'
import { Image } from 'astro:assets'

const { post } = Astro.props
---

<div class="h-75">
  <article class="rounded-lg shadow-sm h-full">
    <div class="cursor-pointer w-full h-40">
      <a href={`/posts/${post.slug}`} target="_blank">
        <Image
          loading="lazy"
          class="rounded-t-lg object-cover w-[280px] h-[160px]"
          src={post.data.cover}
          width={280}
          height={160}
          alt={post.data.title}
        />
      </a>

      <div>
      </div>
    </div>

    <div class="p-4">
      <div class="flex flex-col space-y-1.5 h-15">
        <h3 class="text-lg font-semibold leading-none tracking-tight h-9">
          {post.data.title}
        </h3>
        <h5 class="text-sm text-muted-foreground text-right">by ibucoin</h5>
      </div>

      <section class="text-sm font-medium leading-none mt-6">
        {post.data.des}
      </section>
      <div class="mt-4 flex items-center justify-between">
        <div class="flex items-center gap-2 flex-wrap">
          {
            post.data.tags?.map(tag => (
              <a
                href={`/tags/${encodeURI(tag)}`}
                target="_self"
                class="px-2.5 py-1 rounded-lg text-xs text-red-600 font-medium bg-red-50/80 capitalize"
              >
                {tag}
              </a>
            ))
          }
        </div>
        <div class="text-xs text-muted-foreground flex-shrink-0">
          {getDate(post.data.date)}
        </div>
      </div>
    </div>
  </article>
</div>
